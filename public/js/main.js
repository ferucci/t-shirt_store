!function(){"use strict";class e{constructor(e){this.links=e,this.init()}init(){this.links.forEach((e=>e.addEventListener("click",this.handleLinkClick.bind(this))))}handleLinkClick(e){e.preventDefault();const t=e.target,s=t.parentElement.getAttribute("data-dropdown");let i=document.getElementById(s);i&&(t.closest(".active")||this.checkActiveLinks(),this.toggleActiveParams(t,i))}toggleActiveParams(e,t){e.classList.toggle("active"),t.classList.toggle("show")}checkActiveLinks(){document.querySelectorAll(".nav__link.active").forEach((e=>{e.classList.remove("active"),e.parentElement.querySelector(".dropdown__list").classList.remove("show")}))}}class t{constructor(){this.fixBlocks=document.querySelectorAll(".fix-block"),this.disableScroll=this.disableScroll.bind(this),this.enableScroll=this.enableScroll.bind(this),this.lockPadding=this.lockPadding.bind(this),this.unlockPadding=this.unlockPadding.bind(this)}disableScroll(){let e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scrollTo({top:e,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach((t=>{t.style.paddingRight=e})),document.body.style.paddingRight=e}unlockPadding(){this.fixBlocks.forEach((e=>{e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}class s extends t{constructor(e){super(),this.burgerBtn=e,this.headerMenu=document.querySelector(".header__menu"),this.open=this.open.bind(this),this.close=this.close.bind(this),this.event=this.event.bind(this),this.removeEvent=this.removeEvent.bind(this),this.init()}init(){this.burgerBtn&&this.burgerBtn.addEventListener("click",this.toggleBurgerMenu.bind(this))}open(){this.headerMenu.classList.add("active-menu"),this.disableScroll()}close(){this.headerMenu.classList.remove("active-menu"),this.enableScroll(),this.removeEvent()}event(e){e&&e.addEventListener("click",this.close)}removeEvent(){window.removeEventListener("click",this.close)}toggleBurgerMenu(){this.headerMenu.classList.contains("active-menu")?this.close():this.open();const e=this.headerMenu.querySelector(".active-menu .btn-close");this.event(e)}}const i={menuLinks:document.querySelectorAll(".nav__item[data-dropdown] > .nav__link"),burgerBtn:document.querySelector(".header__btn-menu"),headerSlider:document.querySelector(".header__swiper"),productsSlider:document.querySelector(".products__content")};class n extends t{constructor(e){super(),this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e),this.modal=document.querySelector(".popup"),this.speed=!1,this.animation=!1,this._reOpen=!1,this._nextContainer=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.focusElements=["a[href]","input","button","select","textarea","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.open=this.open.bind(this),this.close=this.close.bind(this),this.focusCatch=this.focusCatch.bind(this),this.focusTrap=this.focusTrap.bind(this),this.events()}events(){this.modal&&(document.addEventListener("click",(e=>{const t=e.target.closest("[data-path");if(t){let e=t.dataset.path,s=t.dataset.animation,i=t.dataset.speed;return this.animation=s||"fade",this.speed=i?parseInt(i):300,this._nextContainer=document.querySelector(`[data-target="${e}"]`),void this.open()}e.target.closest(".btn-close")&&this.close()})),window.addEventListener("keydown",(e=>{27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)})),window.addEventListener("click",(e=>{e.target.classList.contains("popup__wrapp")||e.target.closest(".popup__wrapp")||!this.isOpen||this.close()})))}open(e){if(this.previousActiveElement=document.activeElement,this.isOpen)return this.reOpen=!0,void this.close();this.modalContainer=this._nextContainer,e&&(this.modalContainer=document.querySelector(`[data-target="${e}"]`)),this.modalContainer.scrollTo(0,0),this.modal.style.setProperty("$transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.disableScroll(),this.modalContainer.classList.add("popup-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.modalContainer.classList.add("animate-open"),this.options.isOpen(this),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("popup-open"),this.enableScroll(),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen&&(this.reOpen=!1,this.open()))}focusCatch(e){const t=this.modalContainer.querySelectorAll(this.focusElements),s=Array.prototype.slice.call(t),i=s.indexOf(document.activeElement);e.shiftKey&&0===i&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||i!==s.length-1||(s[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e&&e[e.length-1].focus():this.previousActiveElement.focus()}}window.addEventListener("DOMContentLoaded",(()=>{const{menuLinks:t,burgerBtn:o,headerSlider:a,productsSlider:l}=i;new e(t),new s(o),new n,((...e)=>{new Swiper(e[0],{loop:!0,effect:"flip",grabCursor:!0,pagination:{el:".pagination",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"></span>'}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),new Swiper(e[1],{slidesPerView:"auto",initialSlide:0,grabCursor:!0,loop:!0,slidesPerGroup:1,centerInsufficientSlides:!0,pagination:{el:".pagination",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"></span>'}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{slidesPerView:1,spaceBetween:10},420:{slidesPerView:2,spaceBetween:10},992:{slidesPerView:3,spaceBetween:20},1440:{slidesPerView:4,spaceBetween:20}}})})(a,l)}))}();